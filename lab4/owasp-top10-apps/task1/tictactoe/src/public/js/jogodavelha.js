"use strict";function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}function newElement(e){for(var t=document.createElement(e),r=arguments.length,n=new Array(1<r?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];var o=n.reduce(function(e,t){return e+" "+t});return t.className=o,t}function finishGame(e){var t=newElement("div","boxinfo","pencilBorder");t.style["background-color"]="seagreen";var r="win";setPoint(e);var n="You won!!";"O"==e?(r="lose",n="You lose :(",t.style["background-color"]="mediumvioletred"):"velha"==e&&(r="tie",n="Tie...",t.style["background-color"]="darkgoldenrod"),sendResult(r);var i=document.querySelector("body"),o=newElement("div","buttonPlay","pencilBorder");o.innerHTML="PLAY AGAIN!",o.onclick=function(e){var t=document.querySelector(".gamegrid"),r=document.querySelector(".boxinfo");i.removeChild(t),i.removeChild(r),HashGame()},t.innerHTML=n,t.appendChild(o),i.appendChild(t)}function Checker(){var u=this;this.possibleWins=[[0,1,2],[0,3,6],[0,4,8],[1,4,7],[2,4,6],[2,5,8],[3,4,5],[6,7,8]],this.items=document.querySelectorAll(".item"),this.check=function(){var e=!0,t=!1,r=void 0;try{for(var n,i=u.possibleWins[Symbol.iterator]();!(e=(n=i.next()).done);e=!0){var o=n.value;if(null!=u.items[o[0]].attributes.value&&u.items[o[0]].attributes.value==u.items[o[1]].attributes.value&&u.items[o[0]].attributes.value==u.items[o[2]].attributes.value){var l=document.querySelector(".gamegrid");return l.style.pointerEvents="none",l.style.opacity=.3,finishGame(u.items[o[0]].innerHTML),!0}}}catch(e){t=!0,r=e}finally{try{e||null==i.return||i.return()}finally{if(t)throw r}}if(0==_toConsumableArray(u.items).filter(function(e){return!e.attributes.value}).length){var a=document.querySelector(".gamegrid");return a.style.pointerEvents="none",a.style.opacity=.3,finishGame("velha"),!0}}}function robotPlay(){var e=_toConsumableArray(document.querySelectorAll(".item")).filter(function(e){return!e.attributes.filled}),t=Math.floor(Math.random()*e.length);e[t].attributes.filled=!0,e[t].attributes.value="O",e[t].innerHTML="O"}function Item(e){var t=this;this.elem=newElement("div","item","pencilBorder"),this.elem.id=e,this.play=function(e){t.elem.attributes.filled||(t.elem.innerHTML="X",t.elem.attributes.value="X",t.elem.setAttribute("filled",!0),e.check()||(robotPlay(),e.check()))},this.elem.onclick=function(e){t.play(new Checker)}}function Screen(){this.elem=newElement("div","gamegrid")}function setPoint(e){if("velha"!=e){var t="bender";"X"==e&&(t="fry");var r=document.querySelector("#".concat(t,"Points"));r.innerHTML=parseInt(r.innerHTML,10)+1}}function HashGame(){for(var e=new Screen,t=0;t<9;t++){var r=new Item(t);e.elem.appendChild(r.elem)}document.querySelector("body").appendChild(e.elem)}HashGame();